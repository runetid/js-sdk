!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react-admin"),require("ra-data-json-server"));else if("function"==typeof define&&define.amd)define(["react-admin","ra-data-json-server"],t);else{var n="object"==typeof exports?t(require("react-admin"),require("ra-data-json-server")):t(e["react-admin"],e["ra-data-json-server"]);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,((e,t)=>(()=>{"use strict";var n={351:e=>{e.exports=t},499:t=>{t.exports=e}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var s=r[e]={exports:{}};return n[e](s,s.exports,a),s.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};return(()=>{a.r(s),a.d(s,{HttpHeaders:()=>t,HttpMethod:()=>r,authProviderCallback:()=>i,authUserByToken:()=>n,dataProviderCallback:()=>d});class e{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(e,t=!1){return this.onePassHasher.start().appendStr(e).end(t)}static hashAsciiStr(e,t=!1){return this.onePassHasher.start().appendAsciiStr(e).end(t)}static _hex(t){const n=e.hexChars,r=e.hexOut;let a,s,i,o;for(o=0;o<4;o+=1)for(s=8*o,a=t[o],i=0;i<8;i+=2)r[s+1+i]=n.charAt(15&a),a>>>=4,r[s+0+i]=n.charAt(15&a),a>>>=4;return r.join("")}static _md5cycle(e,t){let n=e[0],r=e[1],a=e[2],s=e[3];n+=(r&a|~r&s)+t[0]-680876936|0,n=(n<<7|n>>>25)+r|0,s+=(n&r|~n&a)+t[1]-389564586|0,s=(s<<12|s>>>20)+n|0,a+=(s&n|~s&r)+t[2]+606105819|0,a=(a<<17|a>>>15)+s|0,r+=(a&s|~a&n)+t[3]-1044525330|0,r=(r<<22|r>>>10)+a|0,n+=(r&a|~r&s)+t[4]-176418897|0,n=(n<<7|n>>>25)+r|0,s+=(n&r|~n&a)+t[5]+1200080426|0,s=(s<<12|s>>>20)+n|0,a+=(s&n|~s&r)+t[6]-1473231341|0,a=(a<<17|a>>>15)+s|0,r+=(a&s|~a&n)+t[7]-45705983|0,r=(r<<22|r>>>10)+a|0,n+=(r&a|~r&s)+t[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,s+=(n&r|~n&a)+t[9]-1958414417|0,s=(s<<12|s>>>20)+n|0,a+=(s&n|~s&r)+t[10]-42063|0,a=(a<<17|a>>>15)+s|0,r+=(a&s|~a&n)+t[11]-1990404162|0,r=(r<<22|r>>>10)+a|0,n+=(r&a|~r&s)+t[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,s+=(n&r|~n&a)+t[13]-40341101|0,s=(s<<12|s>>>20)+n|0,a+=(s&n|~s&r)+t[14]-1502002290|0,a=(a<<17|a>>>15)+s|0,r+=(a&s|~a&n)+t[15]+1236535329|0,r=(r<<22|r>>>10)+a|0,n+=(r&s|a&~s)+t[1]-165796510|0,n=(n<<5|n>>>27)+r|0,s+=(n&a|r&~a)+t[6]-1069501632|0,s=(s<<9|s>>>23)+n|0,a+=(s&r|n&~r)+t[11]+643717713|0,a=(a<<14|a>>>18)+s|0,r+=(a&n|s&~n)+t[0]-373897302|0,r=(r<<20|r>>>12)+a|0,n+=(r&s|a&~s)+t[5]-701558691|0,n=(n<<5|n>>>27)+r|0,s+=(n&a|r&~a)+t[10]+38016083|0,s=(s<<9|s>>>23)+n|0,a+=(s&r|n&~r)+t[15]-660478335|0,a=(a<<14|a>>>18)+s|0,r+=(a&n|s&~n)+t[4]-405537848|0,r=(r<<20|r>>>12)+a|0,n+=(r&s|a&~s)+t[9]+568446438|0,n=(n<<5|n>>>27)+r|0,s+=(n&a|r&~a)+t[14]-1019803690|0,s=(s<<9|s>>>23)+n|0,a+=(s&r|n&~r)+t[3]-187363961|0,a=(a<<14|a>>>18)+s|0,r+=(a&n|s&~n)+t[8]+1163531501|0,r=(r<<20|r>>>12)+a|0,n+=(r&s|a&~s)+t[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,s+=(n&a|r&~a)+t[2]-51403784|0,s=(s<<9|s>>>23)+n|0,a+=(s&r|n&~r)+t[7]+1735328473|0,a=(a<<14|a>>>18)+s|0,r+=(a&n|s&~n)+t[12]-1926607734|0,r=(r<<20|r>>>12)+a|0,n+=(r^a^s)+t[5]-378558|0,n=(n<<4|n>>>28)+r|0,s+=(n^r^a)+t[8]-2022574463|0,s=(s<<11|s>>>21)+n|0,a+=(s^n^r)+t[11]+1839030562|0,a=(a<<16|a>>>16)+s|0,r+=(a^s^n)+t[14]-35309556|0,r=(r<<23|r>>>9)+a|0,n+=(r^a^s)+t[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,s+=(n^r^a)+t[4]+1272893353|0,s=(s<<11|s>>>21)+n|0,a+=(s^n^r)+t[7]-155497632|0,a=(a<<16|a>>>16)+s|0,r+=(a^s^n)+t[10]-1094730640|0,r=(r<<23|r>>>9)+a|0,n+=(r^a^s)+t[13]+681279174|0,n=(n<<4|n>>>28)+r|0,s+=(n^r^a)+t[0]-358537222|0,s=(s<<11|s>>>21)+n|0,a+=(s^n^r)+t[3]-722521979|0,a=(a<<16|a>>>16)+s|0,r+=(a^s^n)+t[6]+76029189|0,r=(r<<23|r>>>9)+a|0,n+=(r^a^s)+t[9]-640364487|0,n=(n<<4|n>>>28)+r|0,s+=(n^r^a)+t[12]-421815835|0,s=(s<<11|s>>>21)+n|0,a+=(s^n^r)+t[15]+530742520|0,a=(a<<16|a>>>16)+s|0,r+=(a^s^n)+t[2]-995338651|0,r=(r<<23|r>>>9)+a|0,n+=(a^(r|~s))+t[0]-198630844|0,n=(n<<6|n>>>26)+r|0,s+=(r^(n|~a))+t[7]+1126891415|0,s=(s<<10|s>>>22)+n|0,a+=(n^(s|~r))+t[14]-1416354905|0,a=(a<<15|a>>>17)+s|0,r+=(s^(a|~n))+t[5]-57434055|0,r=(r<<21|r>>>11)+a|0,n+=(a^(r|~s))+t[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,s+=(r^(n|~a))+t[3]-1894986606|0,s=(s<<10|s>>>22)+n|0,a+=(n^(s|~r))+t[10]-1051523|0,a=(a<<15|a>>>17)+s|0,r+=(s^(a|~n))+t[1]-2054922799|0,r=(r<<21|r>>>11)+a|0,n+=(a^(r|~s))+t[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,s+=(r^(n|~a))+t[15]-30611744|0,s=(s<<10|s>>>22)+n|0,a+=(n^(s|~r))+t[6]-1560198380|0,a=(a<<15|a>>>17)+s|0,r+=(s^(a|~n))+t[13]+1309151649|0,r=(r<<21|r>>>11)+a|0,n+=(a^(r|~s))+t[4]-145523070|0,n=(n<<6|n>>>26)+r|0,s+=(r^(n|~a))+t[11]-1120210379|0,s=(s<<10|s>>>22)+n|0,a+=(n^(s|~r))+t[2]+718787259|0,a=(a<<15|a>>>17)+s|0,r+=(s^(a|~n))+t[9]-343485551|0,r=(r<<21|r>>>11)+a|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=a+e[2]|0,e[3]=s+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this}appendStr(t){const n=this._buffer8,r=this._buffer32;let a,s,i=this._bufferLength;for(s=0;s<t.length;s+=1){if(a=t.charCodeAt(s),a<128)n[i++]=a;else if(a<2048)n[i++]=192+(a>>>6),n[i++]=63&a|128;else if(a<55296||a>56319)n[i++]=224+(a>>>12),n[i++]=a>>>6&63|128,n[i++]=63&a|128;else{if(a=1024*(a-55296)+(t.charCodeAt(++s)-56320)+65536,a>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[i++]=240+(a>>>18),n[i++]=a>>>12&63|128,n[i++]=a>>>6&63|128,n[i++]=63&a|128}i>=64&&(this._dataLength+=64,e._md5cycle(this._state,r),i-=64,r[0]=r[16])}return this._bufferLength=i,this}appendAsciiStr(t){const n=this._buffer8,r=this._buffer32;let a,s=this._bufferLength,i=0;for(;;){for(a=Math.min(t.length-i,64-s);a--;)n[s++]=t.charCodeAt(i++);if(s<64)break;this._dataLength+=64,e._md5cycle(this._state,r),s=0}return this._bufferLength=s,this}appendByteArray(t){const n=this._buffer8,r=this._buffer32;let a,s=this._bufferLength,i=0;for(;;){for(a=Math.min(t.length-i,64-s);a--;)n[s++]=t[i++];if(s<64)break;this._dataLength+=64,e._md5cycle(this._state,r),s=0}return this._bufferLength=s,this}getState(){const e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){const t=e.buffer,n=e.state,r=this._state;let a;for(this._dataLength=e.length,this._bufferLength=e.buflen,r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],a=0;a<t.length;a+=1)this._buffer8[a]=t.charCodeAt(a)}end(t=!1){const n=this._bufferLength,r=this._buffer8,a=this._buffer32,s=1+(n>>2);this._dataLength+=n;const i=8*this._dataLength;if(r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,a.set(e.buffer32Identity.subarray(s),s),n>55&&(e._md5cycle(this._state,a),a.set(e.buffer32Identity)),i<=4294967295)a[14]=i;else{const e=i.toString(16).match(/(.*?)(.{0,8})$/);if(null===e)return;const t=parseInt(e[2],16),n=parseInt(e[1],16)||0;a[14]=t,a[15]=n}return e._md5cycle(this._state,a),t?this._state:e._hex(this._state)}}if(e.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),e.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.hexChars="0123456789abcdef",e.hexOut=[],e.onePassHasher=new e,"5d41402abc4b2a76b9719d911017c592"!==e.hashStr("hello"))throw new Error("Md5 self test failed.");const t=function(){function t(){this.Hash="",this.Time="",this.ApiKey="peij8Ash",this.secret="Keimai3L"}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getHeaders=function(){return t.instance.Time=Date.now().toString(),t.instance.Hash=e.hashAsciiStr(t.instance.ApiKey+t.instance.Time+t.instance.secret),this},t}();function n(e,n){var r=t.getInstance().getHeaders(),a=new Request(n+"/user/byToken/"+e.token,{method:"GET",headers:new Headers({"Content-Type":"application/json",ApiKey:r.ApiKey,Hash:r.Hash,Time:r.Time})});return fetch(a).then((function(e){if(200==e.status)return e.json()})).then((function(t){localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(t))}))}var r,i=function(e){return{login:function(r){var a=r.username,s=r.password,i=t.getInstance().getHeaders(),o=new Request(e+"/user/login",{method:"POST",body:JSON.stringify({login:a,password:s}),headers:new Headers({"Content-Type":"application/json",ApiKey:i.ApiKey,Hash:i.Hash,Time:i.Time})});return fetch(o).then((function(e){return e.status<200||e.status>=300?Promise.reject(e.statusText):e.json()})).then((function(t){return console.log("authData",t),n(t,e)})).catch((function(){return Promise.reject("Invalid username or password")}))},logout:function(){localStorage.removeItem("user");var n=localStorage.getItem("token");localStorage.removeItem("token");var r=t.getInstance().getHeaders(),a=new Request(e+"/user/logout/",{method:"POST",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(n),ApiKey:r.ApiKey,Hash:r.Hash,Time:r.Time})});return fetch(a),Promise.resolve()},checkError:function(){return Promise.resolve()},checkAuth:function(){return localStorage.getItem("user")?Promise.resolve():Promise.reject()},getPermissions:function(){return Promise.resolve(void 0)},getIdentity:function(){var e=localStorage.getItem("user"),t=e?JSON.parse(e):null;return Promise.resolve(t)}}},o=a(499),c=a(351),h=a.n(c),f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},f.apply(this,arguments)};function u(e,t){void 0===t&&(t=null);var n=[];for(var r in e){var a=t?t+"["+r+"]":r,s=typeof e[r];if("meta"!==a)switch(s){case"object":n=n.concat(u(e[r],a));break;case"function":break;default:n.push(a+"="+encodeURI(e[r]))}}return n.join("&")}!function(e){e.GET="GET",e.PUT="PUT",e.DELETE="DELETE",e.PATCH="PATCH",e.OPTIONS="OPTIONS",e.POST="POST"}(r||(r={}));var d=function(e){var n=function(e,n){void 0===n&&(n={mode:"no-cors"});var r=localStorage.getItem("token");if(!n.headers){var a=t.getInstance().getHeaders();n.headers=new Headers({Accept:"application/json",Authorization:"Bearer ".concat(r),ApiKey:a.ApiKey,Hash:a.Hash,Time:a.Time})}return o.fetchUtils.fetchJson(e,n)},r=h()(e,n);return f(f({},r),{fetch:function(t,r,a){var s={method:r};return a&&(s.body=JSON.stringify(a)),n("".concat(e,"/").concat(t),s)},getList:function(t,r){var a=u(r),s=r.pagination.perPage,i=0;r.pagination.page&&r.pagination.perPage&&(s=r.pagination.perPage,i=r.pagination.page*r.pagination.perPage-r.pagination.perPage);var o=t.includes("?")?"&":"?";return n("".concat(e,"/").concat(t,"/list").concat(o,"limit=").concat(s,"&offset=").concat(i,"&").concat(a),{method:"GET"}).then((function(e){return e.json}))},getManyReference:function(t,r){var a=u(r),s=r.pagination.perPage,i=0;r.pagination.page&&r.pagination.perPage&&(s=r.pagination.perPage,i=r.pagination.page*r.pagination.perPage-r.pagination.perPage);var o=t.includes("?")?"&":"?";return n("".concat(e,"/").concat(t,"/list").concat(o,"limit=").concat(s,"&offset=").concat(i,"&").concat(a),{method:"GET"}).then((function(e){return e.json}))},getOne:function(t,r){return n("".concat(e,"/").concat(t,"/").concat(r.id),{method:"GET"}).then((function(e){return e.json}))},create:function(t,r){return n("".concat(e,"/").concat(t),{method:"POST",body:JSON.stringify(r.data)}).then((function(e){return{data:e.json}}))}})}})(),s})()));