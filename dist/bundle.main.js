!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("react-admin"),require("ra-data-json-server"));else if("function"==typeof define&&define.amd)define(["react-admin","ra-data-json-server"],e);else{var n="object"==typeof exports?e(require("react-admin"),require("ra-data-json-server")):e(t["react-admin"],t["ra-data-json-server"]);for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(self,((t,e)=>(()=>{"use strict";var n={351:t=>{t.exports=e},499:e=>{e.exports=t}},r={};function a(t){var e=r[t];if(void 0!==e)return e.exports;var o=r[t]={exports:{}};return n[t](o,o.exports,a),o.exports}a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{a.r(o),a.d(o,{HttpHeaders:()=>e,HttpMethod:()=>n,authProviderCallback:()=>i,dataProviderCallback:()=>l});class t{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(t,e=!1){return this.onePassHasher.start().appendStr(t).end(e)}static hashAsciiStr(t,e=!1){return this.onePassHasher.start().appendAsciiStr(t).end(e)}static _hex(e){const n=t.hexChars,r=t.hexOut;let a,o,i,s;for(s=0;s<4;s+=1)for(o=8*s,a=e[s],i=0;i<8;i+=2)r[o+1+i]=n.charAt(15&a),a>>>=4,r[o+0+i]=n.charAt(15&a),a>>>=4;return r.join("")}static _md5cycle(t,e){let n=t[0],r=t[1],a=t[2],o=t[3];n+=(r&a|~r&o)+e[0]-680876936|0,n=(n<<7|n>>>25)+r|0,o+=(n&r|~n&a)+e[1]-389564586|0,o=(o<<12|o>>>20)+n|0,a+=(o&n|~o&r)+e[2]+606105819|0,a=(a<<17|a>>>15)+o|0,r+=(a&o|~a&n)+e[3]-1044525330|0,r=(r<<22|r>>>10)+a|0,n+=(r&a|~r&o)+e[4]-176418897|0,n=(n<<7|n>>>25)+r|0,o+=(n&r|~n&a)+e[5]+1200080426|0,o=(o<<12|o>>>20)+n|0,a+=(o&n|~o&r)+e[6]-1473231341|0,a=(a<<17|a>>>15)+o|0,r+=(a&o|~a&n)+e[7]-45705983|0,r=(r<<22|r>>>10)+a|0,n+=(r&a|~r&o)+e[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,o+=(n&r|~n&a)+e[9]-1958414417|0,o=(o<<12|o>>>20)+n|0,a+=(o&n|~o&r)+e[10]-42063|0,a=(a<<17|a>>>15)+o|0,r+=(a&o|~a&n)+e[11]-1990404162|0,r=(r<<22|r>>>10)+a|0,n+=(r&a|~r&o)+e[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,o+=(n&r|~n&a)+e[13]-40341101|0,o=(o<<12|o>>>20)+n|0,a+=(o&n|~o&r)+e[14]-1502002290|0,a=(a<<17|a>>>15)+o|0,r+=(a&o|~a&n)+e[15]+1236535329|0,r=(r<<22|r>>>10)+a|0,n+=(r&o|a&~o)+e[1]-165796510|0,n=(n<<5|n>>>27)+r|0,o+=(n&a|r&~a)+e[6]-1069501632|0,o=(o<<9|o>>>23)+n|0,a+=(o&r|n&~r)+e[11]+643717713|0,a=(a<<14|a>>>18)+o|0,r+=(a&n|o&~n)+e[0]-373897302|0,r=(r<<20|r>>>12)+a|0,n+=(r&o|a&~o)+e[5]-701558691|0,n=(n<<5|n>>>27)+r|0,o+=(n&a|r&~a)+e[10]+38016083|0,o=(o<<9|o>>>23)+n|0,a+=(o&r|n&~r)+e[15]-660478335|0,a=(a<<14|a>>>18)+o|0,r+=(a&n|o&~n)+e[4]-405537848|0,r=(r<<20|r>>>12)+a|0,n+=(r&o|a&~o)+e[9]+568446438|0,n=(n<<5|n>>>27)+r|0,o+=(n&a|r&~a)+e[14]-1019803690|0,o=(o<<9|o>>>23)+n|0,a+=(o&r|n&~r)+e[3]-187363961|0,a=(a<<14|a>>>18)+o|0,r+=(a&n|o&~n)+e[8]+1163531501|0,r=(r<<20|r>>>12)+a|0,n+=(r&o|a&~o)+e[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,o+=(n&a|r&~a)+e[2]-51403784|0,o=(o<<9|o>>>23)+n|0,a+=(o&r|n&~r)+e[7]+1735328473|0,a=(a<<14|a>>>18)+o|0,r+=(a&n|o&~n)+e[12]-1926607734|0,r=(r<<20|r>>>12)+a|0,n+=(r^a^o)+e[5]-378558|0,n=(n<<4|n>>>28)+r|0,o+=(n^r^a)+e[8]-2022574463|0,o=(o<<11|o>>>21)+n|0,a+=(o^n^r)+e[11]+1839030562|0,a=(a<<16|a>>>16)+o|0,r+=(a^o^n)+e[14]-35309556|0,r=(r<<23|r>>>9)+a|0,n+=(r^a^o)+e[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,o+=(n^r^a)+e[4]+1272893353|0,o=(o<<11|o>>>21)+n|0,a+=(o^n^r)+e[7]-155497632|0,a=(a<<16|a>>>16)+o|0,r+=(a^o^n)+e[10]-1094730640|0,r=(r<<23|r>>>9)+a|0,n+=(r^a^o)+e[13]+681279174|0,n=(n<<4|n>>>28)+r|0,o+=(n^r^a)+e[0]-358537222|0,o=(o<<11|o>>>21)+n|0,a+=(o^n^r)+e[3]-722521979|0,a=(a<<16|a>>>16)+o|0,r+=(a^o^n)+e[6]+76029189|0,r=(r<<23|r>>>9)+a|0,n+=(r^a^o)+e[9]-640364487|0,n=(n<<4|n>>>28)+r|0,o+=(n^r^a)+e[12]-421815835|0,o=(o<<11|o>>>21)+n|0,a+=(o^n^r)+e[15]+530742520|0,a=(a<<16|a>>>16)+o|0,r+=(a^o^n)+e[2]-995338651|0,r=(r<<23|r>>>9)+a|0,n+=(a^(r|~o))+e[0]-198630844|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~a))+e[7]+1126891415|0,o=(o<<10|o>>>22)+n|0,a+=(n^(o|~r))+e[14]-1416354905|0,a=(a<<15|a>>>17)+o|0,r+=(o^(a|~n))+e[5]-57434055|0,r=(r<<21|r>>>11)+a|0,n+=(a^(r|~o))+e[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~a))+e[3]-1894986606|0,o=(o<<10|o>>>22)+n|0,a+=(n^(o|~r))+e[10]-1051523|0,a=(a<<15|a>>>17)+o|0,r+=(o^(a|~n))+e[1]-2054922799|0,r=(r<<21|r>>>11)+a|0,n+=(a^(r|~o))+e[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~a))+e[15]-30611744|0,o=(o<<10|o>>>22)+n|0,a+=(n^(o|~r))+e[6]-1560198380|0,a=(a<<15|a>>>17)+o|0,r+=(o^(a|~n))+e[13]+1309151649|0,r=(r<<21|r>>>11)+a|0,n+=(a^(r|~o))+e[4]-145523070|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~a))+e[11]-1120210379|0,o=(o<<10|o>>>22)+n|0,a+=(n^(o|~r))+e[2]+718787259|0,a=(a<<15|a>>>17)+o|0,r+=(o^(a|~n))+e[9]-343485551|0,r=(r<<21|r>>>11)+a|0,t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=a+t[2]|0,t[3]=o+t[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this}appendStr(e){const n=this._buffer8,r=this._buffer32;let a,o,i=this._bufferLength;for(o=0;o<e.length;o+=1){if(a=e.charCodeAt(o),a<128)n[i++]=a;else if(a<2048)n[i++]=192+(a>>>6),n[i++]=63&a|128;else if(a<55296||a>56319)n[i++]=224+(a>>>12),n[i++]=a>>>6&63|128,n[i++]=63&a|128;else{if(a=1024*(a-55296)+(e.charCodeAt(++o)-56320)+65536,a>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[i++]=240+(a>>>18),n[i++]=a>>>12&63|128,n[i++]=a>>>6&63|128,n[i++]=63&a|128}i>=64&&(this._dataLength+=64,t._md5cycle(this._state,r),i-=64,r[0]=r[16])}return this._bufferLength=i,this}appendAsciiStr(e){const n=this._buffer8,r=this._buffer32;let a,o=this._bufferLength,i=0;for(;;){for(a=Math.min(e.length-i,64-o);a--;)n[o++]=e.charCodeAt(i++);if(o<64)break;this._dataLength+=64,t._md5cycle(this._state,r),o=0}return this._bufferLength=o,this}appendByteArray(e){const n=this._buffer8,r=this._buffer32;let a,o=this._bufferLength,i=0;for(;;){for(a=Math.min(e.length-i,64-o);a--;)n[o++]=e[i++];if(o<64)break;this._dataLength+=64,t._md5cycle(this._state,r),o=0}return this._bufferLength=o,this}getState(){const t=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[t[0],t[1],t[2],t[3]]}}setState(t){const e=t.buffer,n=t.state,r=this._state;let a;for(this._dataLength=t.length,this._bufferLength=t.buflen,r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],a=0;a<e.length;a+=1)this._buffer8[a]=e.charCodeAt(a)}end(e=!1){const n=this._bufferLength,r=this._buffer8,a=this._buffer32,o=1+(n>>2);this._dataLength+=n;const i=8*this._dataLength;if(r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,a.set(t.buffer32Identity.subarray(o),o),n>55&&(t._md5cycle(this._state,a),a.set(t.buffer32Identity)),i<=4294967295)a[14]=i;else{const t=i.toString(16).match(/(.*?)(.{0,8})$/);if(null===t)return;const e=parseInt(t[2],16),n=parseInt(t[1],16)||0;a[14]=e,a[15]=n}return t._md5cycle(this._state,a),e?this._state:t._hex(this._state)}}if(t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,"5d41402abc4b2a76b9719d911017c592"!==t.hashStr("hello"))throw new Error("Md5 self test failed.");const e=function(){function e(){this.Hash="",this.Time=""}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.getHeaders=function(n,r){return e.instance.Time=Date.now().toString(),e.instance.Hash=t.hashAsciiStr(n+e.instance.Time+r),this},e}();var n,r=function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},r.apply(this,arguments)},i=function(t,n,a){var o=e.getInstance().getHeaders(n,a),i={"Content-Type":"application/json",ApiKey:n,Hash:o.Hash,Time:o.Time};function s(e){var n=new Request(t+"/user/byToken/"+e.token,{method:"GET",headers:new Headers(i)});return fetch(n).then((function(t){if(200==t.status)return t.json()})).then((function(t){localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(t))}))}return{authProvider:{login:function(e){var n=e.username,r=e.password,a=new Request(t+"/user/login",{method:"POST",body:JSON.stringify({login:n,password:r}),headers:new Headers(i)});return fetch(a).then((function(t){return t.status<200||t.status>=300?Promise.reject(t.statusText):t.json()})).then((function(t){return s(t)})).catch((function(){return Promise.reject("Invalid username or password")}))},logout:function(){localStorage.removeItem("user");var e=localStorage.getItem("token");localStorage.removeItem("token");var n=new Request(t+"/user/logout/",{method:"POST",headers:new Headers(r(r({},i),{Authorization:"Bearer ".concat(e)}))});return fetch(n),Promise.resolve()},checkError:function(){return Promise.resolve()},checkAuth:function(){return localStorage.getItem("user")?Promise.resolve():Promise.reject()},getPermissions:function(){return Promise.resolve(void 0)},getIdentity:function(){var t=localStorage.getItem("user"),e=t?JSON.parse(t):null;return Promise.resolve(e)}},authUserByToken:s}},s=a(499),c=a(351),u=a.n(c),f=function(){return f=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},f.apply(this,arguments)};function h(t,e){void 0===e&&(e=null);var n=[];for(var r in t){var a=e?e+"["+r+"]":r,o=typeof t[r];if("meta"!==a)switch(o){case"object":n=n.concat(h(t[r],a));break;case"function":break;default:n.push(a+"="+encodeURI(t[r]))}}return n.join("&")}!function(t){t.GET="GET",t.PUT="PUT",t.DELETE="DELETE",t.PATCH="PATCH",t.OPTIONS="OPTIONS",t.POST="POST"}(n||(n={}));var l=function(t,n,r){var a=function(t,a){void 0===a&&(a={mode:"no-cors"});var o=localStorage.getItem("token");if(!a.headers){var i=e.getInstance().getHeaders(n,r);a.headers=new Headers({Accept:"application/json",Authorization:"Bearer ".concat(o),ApiKey:n,Hash:i.Hash,Time:i.Time})}return s.fetchUtils.fetchJson(t,a)},o=u()(t,a);return f(f({},o),{fetch:function(e,n,r){var o={method:n};return r&&(o.body=JSON.stringify(r)),a("".concat(t,"/").concat(e),o)},getList:function(e,n){var r=h(n),o=n.pagination.perPage,i=0;n.pagination.page&&n.pagination.perPage&&(o=n.pagination.perPage,i=n.pagination.page*n.pagination.perPage-n.pagination.perPage);var s=e.includes("?")?"&":"?";return a("".concat(t,"/").concat(e,"/list").concat(s,"limit=").concat(o,"&offset=").concat(i,"&").concat(r),{method:"GET"}).then((function(t){return t.json}))},getManyReference:function(e,n){var r=h(n),o=n.pagination.perPage,i=0;n.pagination.page&&n.pagination.perPage&&(o=n.pagination.perPage,i=n.pagination.page*n.pagination.perPage-n.pagination.perPage);var s=e.includes("?")?"&":"?";return a("".concat(t,"/").concat(e,"/list").concat(s,"limit=").concat(o,"&offset=").concat(i,"&").concat(r),{method:"GET"}).then((function(t){return t.json}))},getOne:function(e,n){return r=void 0,o=void 0,s=function(){return function(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(r){return console.log(e,n,"edit"),e.includes("user")?[2,a("".concat(t,"/user/byRunetId/").concat(n.id),{method:"GET"}).then((function(t){return t.json}))]:[2,a("".concat(t,"/").concat(e,"/").concat(n.id),{method:"GET"}).then((function(t){return t.json})).catch((function(t){return console.log(t)}))]}))},new((i=void 0)||(i=Promise))((function(t,e){function n(t){try{c(s.next(t))}catch(t){e(t)}}function a(t){try{c(s.throw(t))}catch(t){e(t)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof i?r:new i((function(t){t(r)}))).then(n,a)}c((s=s.apply(r,o||[])).next())}));var r,o,i,s},create:function(e,n){return a("".concat(t,"/").concat(e),{method:"POST",body:JSON.stringify(n.data)}).then((function(t){return{data:t.json}}))}})}})(),o})()));